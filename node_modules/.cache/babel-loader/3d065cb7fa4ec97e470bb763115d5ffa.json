{"ast":null,"code":"export default class {\n  constructor() {\n    this.login = [{\n      name: \"email\",\n      input: \"input\",\n      type: \"input\",\n      label: \"email\",\n      validateEmail: true\n    }, {\n      name: \"password\",\n      input: \"input\",\n      type: \"password\",\n      required: true\n    }];\n    this.register = [{\n      name: \"firstName\",\n      input: \"input\",\n      required: true\n    }, {\n      name: \"lastName\",\n      input: \"input\",\n      required: true\n    }, {\n      name: \"email\",\n      input: \"input\",\n      type: \"input\",\n      label: \"email\"\n    }, {\n      name: \"password\",\n      input: \"input\",\n      type: \"password\",\n      required: true\n    }, {\n      name: \"organisationName\",\n      input: \"input\",\n      required: true\n    }, {\n      name: \"organisationKind\",\n      input: \"select\",\n      required: true,\n      options: [1, 2, 3]\n    }];\n    this.customer = [{\n      name: \"name\",\n      label: \"name\",\n      input: \"input\",\n      required: true\n    }, {\n      name: \"organisationNr\",\n      label: \"Organisation number\",\n      input: \"input\"\n    }, {\n      name: \"vatNr\",\n      label: \"Vat number\",\n      input: \"input\",\n      validateVat: true\n    }, {\n      name: \"reference\",\n      label: \"Reference\",\n      input: \"input\"\n    }, {\n      name: \"paymentTerm\",\n      label: \"Payment term\",\n      input: \"input\",\n      required: true,\n      type: \"number\"\n    }, {\n      name: \"website\",\n      label: \"Website\",\n      input: \"input\"\n    }, {\n      name: \"email\",\n      input: \"input\",\n      type: \"input\",\n      label: \"email\"\n    }, {\n      name: \"phoneNumber\",\n      label: \"Phone number\",\n      input: \"input\"\n    }];\n    this.errorMessages = [];\n\n    this.validate = (type, fieldValues, setErrorMessage) => {\n      let canSubmit = true;\n      this.checkValidations(fieldValues, type);\n\n      if (this.errorMessages.length === 0) {\n        return canSubmit;\n      } else {\n        setErrorMessage({});\n        this.errorMessages.forEach(error => {\n          setErrorMessage(prevState => {\n            return { ...prevState,\n              ...error\n            };\n          });\n        });\n      }\n    };\n  }\n\n  validateEmail(field, fieldValues) {\n    const re = /\\S+@\\S+\\.\\S+/;\n\n    if (!re.test(fieldValues[field.name])) {\n      this.errorMessages.push({\n        [field.name]: \"please enter a valid email\"\n      });\n    }\n  }\n\n  validateVat(field, fieldValues) {\n    const re = /^(SE)(\\d{10}01$)/i;\n    console.log(fieldValues[field.name]);\n\n    if (!re.test(fieldValues[field.name])) {\n      this.errorMessages.push({\n        [field.name]: \"please enter a valid vat\"\n      });\n    }\n  }\n\n  validateRequired(field, fieldValues) {\n    this.errorMessages.push({\n      [field.name]: \"this field is required\"\n    });\n  }\n\n  checkValidations(fieldValues, type) {\n    const form = this[type];\n    form.forEach(field => {\n      if (field.validateEmail) {\n        this.validateEmail(field, fieldValues);\n      }\n\n      if (field.validateVat) {\n        this.validateVat(field, fieldValues);\n      }\n\n      if (field.required && fieldValues[field.name].length === 0) {\n        this.validateRequired(field, fieldValues);\n      }\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/andreashellberg/Desktop/skolan/inlaÌˆmining2/uppgift2/src/data/FormKit.js"],"names":["login","name","input","type","label","validateEmail","required","register","options","customer","validateVat","errorMessages","validate","fieldValues","setErrorMessage","canSubmit","checkValidations","length","forEach","error","prevState","field","re","test","push","console","log","validateRequired","form"],"mappings":"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","sourcesContent":["export default class {\n  login = [\n    {\n      name: \"email\",\n      input: \"input\",\n      type: \"input\",\n      label: \"email\",\n      validateEmail: true,\n    },\n    { name: \"password\", input: \"input\", type: \"password\", required: true },\n  ]\n\n  register = [\n    { name: \"firstName\", input: \"input\", required: true },\n    { name: \"lastName\", input: \"input\", required: true },\n    { name: \"email\", input: \"input\", type: \"input\", label: \"email\" },\n\n    { name: \"password\", input: \"input\", type: \"password\", required: true },\n    { name: \"organisationName\", input: \"input\", required: true },\n    {\n      name: \"organisationKind\",\n      input: \"select\",\n      required: true,\n      options: [1, 2, 3],\n    },\n  ]\n\n  customer = [\n    { name: \"name\", label: \"name\", input: \"input\", required: true },\n    { name: \"organisationNr\", label: \"Organisation number\", input: \"input\" },\n    { name: \"vatNr\", label: \"Vat number\", input: \"input\", validateVat: true },\n    { name: \"reference\", label: \"Reference\", input: \"input\" },\n    {\n      name: \"paymentTerm\",\n      label: \"Payment term\",\n      input: \"input\",\n      required: true,\n      type: \"number\",\n    },\n    { name: \"website\", label: \"Website\", input: \"input\" },\n    { name: \"email\", input: \"input\", type: \"input\", label: \"email\" },\n    { name: \"phoneNumber\", label: \"Phone number\", input: \"input\" },\n  ]\n  errorMessages = []\n\n  validateEmail(field, fieldValues) {\n    const re = /\\S+@\\S+\\.\\S+/\n    if (!re.test(fieldValues[field.name])) {\n      this.errorMessages.push({ [field.name]: \"please enter a valid email\" })\n    }\n  }\n  validateVat(field, fieldValues) {\n    const re = /^(SE)(\\d{10}01$)/i\n    console.log(fieldValues[field.name])\n    if (!re.test(fieldValues[field.name])) {\n      this.errorMessages.push({ [field.name]: \"please enter a valid vat\" })\n    }\n  }\n  validateRequired(field, fieldValues) {\n    this.errorMessages.push({ [field.name]: \"this field is required\" })\n  }\n  checkValidations(fieldValues, type) {\n    const form = this[type]\n    form.forEach((field) => {\n      if (field.validateEmail) {\n        this.validateEmail(field, fieldValues)\n      }\n      if (field.validateVat) {\n        this.validateVat(field, fieldValues)\n      }\n      if (field.required && fieldValues[field.name].length === 0) {\n        this.validateRequired(field, fieldValues)\n      }\n    })\n  }\n  validate = (type, fieldValues, setErrorMessage) => {\n    let canSubmit = true\n\n    this.checkValidations(fieldValues, type)\n\n    if (this.errorMessages.length === 0) {\n      return canSubmit\n    } else {\n      setErrorMessage({})\n      this.errorMessages.forEach((error) => {\n        setErrorMessage((prevState) => {\n          return {\n            ...prevState,\n            ...error,\n          }\n        })\n      })\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}